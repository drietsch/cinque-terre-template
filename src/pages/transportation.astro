---
import Layout from '../layouts/Layout.astro';
import Footer from '../components/Footer';
import EditorialHero from '../components/EditorialHero.astro';
import EditorialIntro from '../components/EditorialIntro.astro';
import EditorNote from '../components/EditorNote.astro';
import PracticalInfoItem from '../components/PracticalInfoItem.astro';
import ReviewSummary from '../components/ReviewSummary.astro';
import SectionHeader from '../components/SectionHeader.astro';
import EditorialInterlude from '../components/EditorialInterlude.astro';
import ClosingNote from '../components/ClosingNote.astro';
import { Star, MapPin, Clock, Train, Car, Ship, Info, Compass, Waves, Sun, Heart, Plane, Luggage, Accessibility } from 'lucide-react';

const transportModes = [
    // ... (keep the transportModes array as is)
];

const airports = [
    { name: "Pisa (PSA)", distance: "100 km", time: "1.5 hours" },
    { name: "Genoa (GOA)", distance: "115 km", time: "2 hours" },
    { name: "Florence (FLR)", distance: "170 km", time: "2.5 hours" },
    { name: "Milan (MXP/LIN)", distance: "250-280 km", time: "3-4 hours" }
];
---

<Layout title="Arrival & Orientation: Getting to Riomaggiore | Cinque Terre Dispatch">
    <EditorialHero 
        title="The Art of<br/>Arrival"
        subtitle="Riomaggiore is not reached instantly. The tunnels, the winding roads, and the sudden shift in light are all part of the transition into the village's rhythm."
        badge="The First Step"
        image="https://images.unsplash.com/photo-1516483638261-f4dbaf036963?q=80&w=2572&auto=format&fit=crop"
    />

    <EditorialIntro 
        badge="A Gradual Approach"
        quote="To arrive in Riomaggiore is to shed the speed of the modern world. Whether you come by rail, road, or sea, the village requires you to slow down before it reveals itself."
    >
        <div class="space-y-6">
            <p>
                The geography of the Cinque Terre is <strong>defiant</strong>. For centuries, these villages were accessible only by boat or by the narrow mule tracks that crisscross the hills. Today, while modern transport has bridged the gap, the physical reality remains: Riomaggiore is a vertical world of stone and salt, where movement is measured in steps rather than kilometers.
            </p>
            <p>
                Knowing this in advance <strong>changes your arrival</strong>. It transforms a long tunnel or a steep parking lot from a frustration into a threshold. You are entering a place where the light changes dramatically as you move between the cliffs, and where the sound of the sea replaces the hum of the highway.
            </p>
        </div>
        <div class="space-y-6">
            <p>
                We encourage you to <strong>arrive with patience</strong>. The train may be crowded, the parking may be distant, and the boat may be at the mercy of the waves. But each of these paths offers a different perspective on the village's character. To arrive unhurried is to begin your journey already in sync with the pace of the coast.
            </p>
            <p>
                Once you reach the station or the parking garage, <strong>the village begins</strong>. There is no 'lobby' here—only the street, the stairs, and the immediate presence of the houses. Allow yourself a moment to simply stand and breathe before you begin the final walk to your door.
            </p>
        </div>
    </EditorialIntro>

    <!-- Geographical Orientation -->
    <section class="py-20 bg-secondary/20 border-y border-border/40">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto text-center mb-16">
                <h2 class="font-serif text-4xl md:text-5xl font-bold text-foreground mb-6">
                    Geographical Orientation
                </h2>
                <p class="text-xl text-muted-foreground font-light leading-relaxed">
                    Riomaggiore is the easternmost of the five villages, situated on the Ligurian coast in northern Italy, between the port city of La Spezia and the historic city of Genoa.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                {airports.map(airport => (
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-border/50 group hover:border-primary/30 transition-colors">
                        <div class="w-12 h-12 rounded-full bg-primary/5 flex items-center justify-center mb-6 group-hover:bg-primary/10 transition-colors">
                            <Plane className="w-6 h-6 text-primary" />
                        </div>
                        <h3 class="font-serif text-xl font-bold mb-2">{airport.name}</h3>
                        <div class="space-y-1 text-sm text-muted-foreground">
                            <p>Distance: {airport.distance}</p>
                            <p>Travel Time: ~{airport.time}</p>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </section>

    <!-- Transport Modes Collection -->
    <section class="py-24 container mx-auto px-4">
        <div class="space-y-32">
            {transportModes.map((mode, index) => (
                <div class="space-y-16">
                    {/* Editorial Interludes */}
                    {index === 1 && (
                        <EditorialInterlude 
                            badge="Editorial Interlude"
                            title="The Weight of the Journey"
                            quote="In Riomaggiore, your luggage is your first lesson in local physics. Wheeled suitcases, designed for flat airport terminals, are the natural enemies of our stone stairs. If you can, pack light. If you can't, consider a backpack. Every kilo you shed is a kilo you don't have to carry up a 14th-century staircase. The less you carry, the more you can notice."
                        >
                            <Luggage slot="icon" className="w-full h-full" />
                        </EditorialInterlude>
                    )}

                    {index === 2 && (
                        <EditorialInterlude 
                            badge="Editorial Interlude"
                            title="A Vertical Reality"
                            quote="We must be honest: Riomaggiore is a difficult village for those with limited mobility. The beauty of the place is inseparable from its steepness. While the main street has been smoothed over the years, the soul of the village remains in the carruggi—the narrow, stepped alleys that climb the cliffs. If you struggle with stairs, plan your stay at the harbor or the very top, and use the local shuttle bus to bridge the gap."
                            align="right"
                            type="secondary"
                        >
                            <Accessibility slot="icon" className="w-full h-full" />
                        </EditorialInterlude>
                    )}

                    <article class="group cursor-pointer">
                        <!-- Image -->
                        <div class="relative aspect-[21/9] overflow-hidden rounded-xl mb-8">
                            <img 
                                src={mode.image} 
                                alt={mode.name}
                                class="object-cover w-full h-full transition-transform duration-500 group-hover:scale-105"
                            />
                            <span class="absolute top-6 left-6 bg-white/90 text-black px-3 py-1.5 rounded-full text-xs font-semibold uppercase tracking-wide shadow-sm">
                                {mode.category}
                            </span>
                        </div>

                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                            
                            {/* Main Content (2/3) */}
                            <div class="lg:col-span-2 space-y-8">
                                <!-- Header -->
                                <div>
                                    <div class="flex items-center gap-2 mb-3">
                                        <MapPin className="w-4 h-4 text-primary" />
                                        <span class="text-sm font-medium text-muted-foreground">{mode.village}</span>
                                    </div>
                                    <h2 class="font-serif text-4xl md:text-5xl font-bold mb-4 group-hover:text-primary transition-colors leading-tight">
                                        {mode.name}
                                    </h2>
                                </div>

                                {/* Signature Quote (Intro) */}
                                <div class="pl-6 border-l-2 border-primary/30">
                                    <p class="font-serif text-xl italic text-foreground/70 leading-relaxed">
                                        "{mode.intro}"
                                    </p>
                                </div>

                                {/* Description */}
                                <div class="prose prose-lg max-w-none">
                                    <p class="text-foreground/80 text-lg leading-relaxed mb-4">
                                        {mode.description}
                                    </p>
                                    <p class="text-muted-foreground leading-relaxed flex items-center gap-2">
                                        <Heart className="w-4 h-4 text-primary/60" />
                                        {mode.signature}
                                    </p>
                                </div>

                                <EditorNote quote={mode.giuliaComment} />
                            </div>

                            {/* Facts Sidebar (1/3) */}
                            <div class="lg:col-span-1">
                                <div class="sticky top-24 space-y-10">
                                    <!-- Header -->
                                    <div>
                                        <h3 class="font-serif text-2xl font-bold text-foreground mb-6 pb-4 border-b border-border">
                                            Essential Information
                                        </h3>
                                        
                                        <!-- Map Integration -->
                                        <div class="relative aspect-video rounded-xl overflow-hidden border border-border/50 mb-8 group/map">
                                            <img 
                                                src="https://api.mapbox.com/styles/v1/mapbox/light-v11/static/pin-l+bf2b2b(9.7376,44.099)/9.7386,44.0994,15.39,0/640x360@2x?before_layer=admin-1-boundary&access_token=pk.eyJ1IjoiZHJpZXRzY2giLCJhIjoiY21qYjAzMWxtMGJpZDNlc2RqMWN3NHdjbSJ9.k9Xvn4saiEtYhrJE8bKk7Q" 
                                                alt="Location Map"
                                                class="object-cover w-full h-full transition-transform duration-700 group-hover/map:scale-110"
                                            />
                                            <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/map:opacity-100 transition-opacity"></div>
                                        </div>
                                    </div>
                                    
                                    <ReviewSummary 
                                        googleRating={mode.googleRating} 
                                        tripadvisorRating={mode.tripadvisorRating} 
                                        label="Travel Stats"
                                    />

                                    <!-- Info Items -->
                                    <div class="space-y-8">
                                        <SectionHeader label="Practical Details" />

                                        <div class="space-y-6">
                                            <PracticalInfoItem label="Travel Time" value={mode.duration}>
                                                <Clock slot="icon" className="w-5 h-5 text-primary" />
                                            </PracticalInfoItem>

                                            <PracticalInfoItem label="Frequency" value={mode.frequency}>
                                                <Compass slot="icon" className="w-5 h-5 text-primary" />
                                            </PracticalInfoItem>
                                            
                                            <PracticalInfoItem label="Notes" value={mode.practicalInfo}>
                                                <Info slot="icon" className="w-5 h-5 text-primary" />
                                            </PracticalInfoItem>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            ))}
        </div>
    </section>

    <ClosingNote title="Slow Down. You've Arrived." badge="The First Moment of Presence">
        <div class="space-y-6 text-xl text-inherit font-light leading-relaxed">
            <p>
                Arrival is not just the end of a journey; it is the first moment of your presence in Riomaggiore. 
            </p>
            <p>
                Resist the urge to orient yourself immediately. Don't look at the map just yet. Allow the village to unfold gradually—the way the light enters the narrow streets, the sound of the sea at the harbor, the vertical rhythm of the houses.
            </p>
            <p>
                You are here. The village is ready for you.
            </p>
        </div>

        <div slot="actions" class="pt-12 flex flex-wrap justify-center gap-6">
            <a href="/itinerary" class="px-8 py-4 rounded-full bg-primary text-white font-bold text-sm uppercase tracking-widest hover:bg-primary/90 transition-colors">
                Plan Your Journey
            </a>
            <a href="/accommodations" class="px-8 py-4 rounded-full bg-white/10 backdrop-blur-sm text-white font-bold text-sm uppercase tracking-widest hover:bg-white/20 transition-colors">
                Where to Rest
            </a>
        </div>

        <Waves slot="background" className="w-full h-full scale-150" />
    </ClosingNote>

    <Footer />
</Layout>

<style>
    html {
        scroll-behavior: smooth;
    }

    .font-serif {
        letter-spacing: -0.02em;
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    article {
        animation: fadeInUp 0.8s ease-out;
        animation-fill-mode: both;
    }
</style>
